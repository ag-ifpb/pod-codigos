package ag.threads;

import java.util.Arrays;

public class Semaphore {
	private int currentIndex = 0;
	private final Object[] locks = new Object[2];
	
	public Semaphore(int capacity) {
		locks = new Object[capacity];
		Arrays.fill(locks, new Object()); 
	}
	
	public void stop() throws InterruptedException{
		synchronized (locks) {
			locks[currentIndex++].wait();
		}
	}
	
	public void release(){
		synchronized (lock) {
			lock.notify();
		}
	}
}
