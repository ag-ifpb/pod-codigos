/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package request.reply.app;

import java.io.IOException;
import java.net.SocketException;


import request.reply.Server;

/**
 *
 * @author juan
 */
public class App1 {
	//private
	private static byte[] process(byte[] args){
		//converte de volta para dados primitivos
		//verifica qual a operação
		//processa e
		//retorna
		try {
			Thread.sleep(10000);
		} catch (InterruptedException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		//
		return args;
	}
	
    public static void main(String[] args) throws IOException, SocketException, Base64DecodingException, ClassNotFoundException {
    		//uma sugestão
    		//criar o datagrasocket aqui dentro (no construtor)
        Server server = new Server();
        //deveria ser algo assim
        while(true){
	        byte[] req = server.getRequest();
	        byte[] resp = process(req);
	        server.sendReply(resp);
        }
    }
    
}
