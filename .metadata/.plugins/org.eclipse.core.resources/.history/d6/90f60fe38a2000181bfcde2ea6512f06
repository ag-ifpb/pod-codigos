/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package request.reply.app;

import com.sun.org.apache.xml.internal.security.exceptions.Base64DecodingException;
import java.io.IOException;
import java.net.SocketException;

import request.reply.Message;
import request.reply.Server;

/**
 *
 * @author juan
 */
public class App1 {
	//private
	private static byte[] process(byte[] args){
		//converte de volta para dados primitivos
		//verifica qual a operação
		//processa e
		//retorna
		return args;
	}
	
    public static void main(String[] args) throws IOException, SocketException, Base64DecodingException, ClassNotFoundException {
    		//uma sugestão
    		//criar o datagrasocket aqui dentro (no construtor)
        Server server = new Server();
        //deveria ser algo assim
        while(true){
	        byte[] req = server.getRequest();
	        Message msgReq = convert(msgReq);
	        Message msgResp = process(msgReq);
	        byte[] resp = convert(msgResp);
	        server.sendReply(resp);
        }
    }
    
}
