package ifpb;

import javax.xml.bind.JAXB;

public class Main {
	//
	private void marshall(){
		RemoteRef ref = new RemoteRef();
		ref.setHost("123.092.222.121");
		ref.setPort(10999);
		//
		Message m = new Message();
		m.setId(12231);
		m.setRef(ref);
		//
		JAXB.marshal(m, System.out);
	}
	
	private static void unmarshall(){
		String xml = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><message><id>12231</id><ref><host>123.092.222.121</host><port>10999</port></ref></message>";
		Message m = JAXB.unmarshal(xml, Message.class);
		System.out.println("Id: " + m.getId());
		System.out.println("Host: " + m.getRef().getHost());
		System.out.println("Port: " + m.getRef().getPort());
	}

	public static void main(String[] args) {
		unmarshall();
	}
}
