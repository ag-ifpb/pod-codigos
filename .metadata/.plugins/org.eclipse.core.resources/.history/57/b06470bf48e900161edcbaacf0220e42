package ag.ifpb.pod.ms;

import java.net.Socket;

public class Notifier {
	private final static String TOKEN = "---123456---";
	private final Register register;

	public void notify(String subscriberId, Message message){
		Socket socket = register.find(subscriberId);
		//
		socket.getOutputStream().write(TOKEN.getBytes());
		socket.getOutputStream().write(message.getText().getBytes());
		socket.getOutputStream().write(TOKEN.getBytes());
		//
		socket.getOutputStream().flush();
	}
	
}
